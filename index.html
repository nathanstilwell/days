<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>ðŸ’€ The Days of COVID ðŸ’€</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap"
      rel="stylesheet"
    />
    <style media="screen">
      html,
      body {
        margin: 0;
      }
      .main {
        background-color: #171212;
        display: flex;
        margin: 0;
        padding: 0;
        height: 100vh;
        width: 100vw;
        justify-content: center;
        align-items: center;
      }
      .counter {
        color: crimson;
        font-family: "Special Elite", monospace;
        font-size: 20vw;
      }
    </style>
  </head>
  <body>
    <main class="main">
      <div id="days" class="counter"></div>
    </main>

    <script type="text/javascript">
      (function (win, doc) {
        const _ = Math.floor;
        const aDay = 24 * 60 * 60 * 1000;
        const beginCovid = new Date("15 MAR 2020");
        const M = 1000;
        const CM = 900;
        const D = 500;
        const CD = 400;
        const C = 100;
        const XC = 90;
        const L = 50;
        const XL = 40;
        const X = 10;
        const IX = 9;
        const V = 5;
        const IV = 4;
        const I = 1;
        const romanNumerals = [
          { label: "M", value: M },
          { label: "CM", value: CM },
          { label: "D", value: D },
          { label: "CD", value: CD },
          { label: "C", value: C },
          { label: "XC", value: XC },
          { label: "L", value: L },
          { label: "XL", value: XL },
          { label: "X", value: X },
          { label: "IX", value: IX },
          { label: "V", value: V },
          { label: "IV", value: IV },
          { label: "I", value: I },
        ];
        const timeDiff = (historicDate) => () =>
          Date.now() - historicDate.getTime();
        const sinceCovid = timeDiff(beginCovid);
        const humanOffset = 1; // Humans don't start counting at 0;
        const daysOfCovid = () => Math.floor(sinceCovid() / aDay) + humanOffset;
        const toNumerals = (num, $ = [], numerals = romanNumerals) => {
          const next = numerals.find((n) => Math.floor(num / n.value));
          if (next) {
            return toNumerals(num - next.value, [...$, next.label]);
          }
          return $.join("");
        };

        doc.getElementById("days").innerText = toNumerals(daysOfCovid());
      })(window, window.document);
    </script>
  </body>
</html>
